/**
 * Copyright 2015-2020 | Fabrice Creuzot (luigifab) <code~luigifab~fr>
 * https://www.luigifab.fr/magento/maillog
 * This program is free software, you can redistribute it or modify
 * it under the terms of the GNU General Public License (GPL).
 */
window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t,n){for(t=t||window,n=0;n<this.length;n++)e.call(t,this[n],n,this)});var maillog={start:function(){if(document.getElementById("maillog_sync_bounces_stats_customer")){console.info("maillog.app - hello");var e,t,n=document.getElementById("maillog_sync_bounces_stats_customer"),l=document.getElementById("maillog_sync_bounces_stats_bounce"),o=document.getElementById("maillog_sync_unsubscribers_stats_subscriber");e=parseInt(n.textContent.trim(),10),t=parseInt(l.textContent.trim(),10),l.textContent+=" ("+Math.floor(100*t/e)+" %)",e=parseInt(n.textContent.trim(),10),t=parseInt(o.textContent.trim(),10),o.textContent+=" ("+Math.floor(100*t/e)+" %)"}else if(document.getElementById("pictureConfig")){console.info("maillog.app - hello");var s=0,a=0,c="";document.getElementById("pictureConfig").querySelectorAll("tbody > tr").forEach(function(e){e.querySelector("td[rowspan]")?(s=parseInt(e.querySelector("td[rowspan]").getAttribute("rowspan"),10),c+='<div class="max" style="margin-left:'+(a="381px")+';"><span class="s">aA</span><span class="l">b'+a+'</span><span class="w">c'+e.querySelector(".w").value+" x "+e.querySelector(".h").value+"</span></div>"):(c+='<div class="mid" style="margin-left:10px; width:10px;"><span class="s">aB</span><span class="l">bundefined</span><span class="r">c'+e.querySelector(".b").value+'</span><span class="w">d'+e.querySelector(".w").value+" x "+e.querySelector(".h").value+"</span></div>",--s<2&&(c+='<div class="min" style="width:10px;"><span class="s">aC</span><span class="l">b0</span><span class="r">c'+e.querySelector(".b").value+'</span><span class="w">d'+e.querySelector(".w").value+" x "+e.querySelector(".h").value+"</span></div>"))}),document.getElementById("picturePreview").innerHTML+=c}},add:function(){var e=document.getElementById("maillog_sync_mapping_system"),t=document.getElementById("maillog_sync_mapping_magento"),n=document.getElementById("maillog_sync_mapping_config");0<e.value.length&&0<t.value.length&&(n.value=(n.value+"\n"+e.value+":"+t.value).trim(),n.scrollTop=n.scrollHeight,e.selectedIndex=0,t.selectedIndex=0,this.mark())},mark:function(){var t=document.getElementById("maillog_sync_mapping_config").value;document.getElementById("maillog_sync_mapping_system").querySelectorAll("option").forEach(function(e){-1<t.indexOf("\n"+e.value+":")||0===t.indexOf(e.value+":")?e.setAttribute("class","has"):e.removeAttribute("class")}),document.getElementById("maillog_sync_mapping_magento").querySelectorAll("option").forEach(function(e){-1<t.indexOf(":"+e.value)?e.setAttribute("class","has"):e.removeAttribute("class")})},reset:function(e,t){var n=e.parentNode;n.querySelectorAll("select")[0].selectedIndex=0,n.querySelectorAll("select")[1].selectedIndex=0,n.querySelectorAll("input")[0].value=t.toLowerCase(),n.querySelectorAll("input")[1].value="#000000"},remove:function(e,t){confirm(t)&&e.parentNode.parentNode.removeChild(e.parentNode)},iframe:function(t){try{t.removeAttribute("onload"),t.contentDocument.body.parentNode.innerHTML=decodeURIComponent(escape(self.atob(t.firstChild.nodeValue))),t.style.height=t.contentDocument.body.scrollHeight+"px",self.setTimeout(function(){var e=document.querySelector("div.content iframe");e.style.height=e.contentDocument.body.scrollHeight+"px"},1e3)}catch(e){t.contentDocument.body.textContent=e}}};"function"==typeof self.addEventListener&&self.addEventListener("load",maillog.start.bind(maillog));